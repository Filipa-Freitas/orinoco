<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ours en peluche faits main | Orinoco</title>
        <meta name="description" content=""/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
        <link rel="stylesheet" href="/css/style.css">
        <link rel="icon" type="image/png" href="/images/favicon-16x16.png" />
    </head>
    <body>
        <header class="bg-light-pink">
            <div class="container">
                <div class="row">
                    <nav class="col navbar navbar-expand-lg">
                        <a href="/" class="navbar-brand" >
                            <img src="/images/15675819263013_image1.png" width="150" height="80" alt="Site logo">
                        </a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarContent">
                            <span class="navbar-toggler-icon"><i class="fas fa-bars"></i></span>
                        </button>
                        <div id="navbarContent" class="collapse navbar-collapse flex-row-reverse">
                            <ul class="navbar-nav">
                                <li class="nav-item active p-2">
                                    <a href="/" class="nav-link">Accueil</a>
                                </li>
                                <li class="nav-item p-2">
                                    <a href="/order" class="nav-link">Panier</i></a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </header>
        <div class="container-fluid">
            <div class="row">
                <div class="col mt-4 mb-4">
                    <div class="jumbotron text-center mt-4 mb-4 p-5 bg-light">
                        <h1>Ours en peluche faits à la main</h1>
                        <p>Nos produits sont fabriqués en France et garantis à vie</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="container mb-4 ">
            <div id="teddies-container" class="row m-auto">
            </div>
        </div>
        <footer class="bg-light mt-4">
            <div class="container">
            <div class="row pt-4 pb-3">
                <div class="col">
                <ul class="list-inline text-center">
                    <li class="list-inline-item"><a href="#">À propos</a></li>
                    <li class="list-inline-item"><a href="#">Vie privée</a></li>
                    <li class="list-inline-item"><a href="#">Conditions d'utilisations</a></li>
                </ul>
                </div>
            </div>
            </div>
        </footer>

        <script>
            var teddiesContainer = document.getElementById('teddies-container');

                fetch('/api/teddies')
                .then(function(res) {
                    if (!res.ok) {
                        throw Error(res.statusText);    
                    }
                    return res.json();
                })
                .then(function(json) {
                    for(var i = 0; i < json.length; i++) {
                        var card = document.createElement('div');
                        var img = document.createElement('img');
                        var cardBody = document.createElement('div');
                        var cardPrice = document.createElement('p');
                        var cardName = document.createElement('a');

                        card.className = "col-md-6 col-lg-4 card p-2 shadow-sm";
                        img.className = "card-img-top";
                        cardBody.className = "card-body d-flex justify-content-between";
                        cardPrice.className = "card-title";
                        cardName.className = "stretched-link";

                        img.src = json[i].imageUrl;
                        img.alt = json[i].description;
                        cardPrice.innerText = json[i].price + " €";
                        cardName.innerText = json[i].name;
                        cardName.href = "/product/"+ json[i]._id

                        cardBody.append(cardName);
                        cardBody.append(cardPrice);
                        card.append(img);
                        card.append(cardBody);
                        teddiesContainer.append(card);


                    }
                })
                .catch(function(error) {
                    console.log(error);
                });
        
        </script>
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    </body>
</html>
